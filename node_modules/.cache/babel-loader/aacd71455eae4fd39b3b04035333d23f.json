{"ast":null,"code":"import _toConsumableArray from \"/home/moez/all_in_one_multikart_react/front-end/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/moez/all_in_one_multikart_react/front-end/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_COMPARE, REMOVE_FROM_COMPARE } from \"../constants/ActionTypes\";\nexport default function compareReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    items: []\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_TO_COMPARE:\n      var productId = action.product.id;\n      if (state.items.findIndex(function (product) {\n        return product.id === productId;\n      }) !== -1) {\n        var items = state.items.reduce(function (cartAcc, product) {\n          if (product.id === productId) {\n            cartAcc.push(_objectSpread({}, product));\n          } else {\n            cartAcc.push(product);\n          }\n          return cartAcc;\n        }, []);\n        return _objectSpread({}, state, {\n          items: items\n        });\n      }\n      return _objectSpread({}, state, {\n        items: [].concat(_toConsumableArray(state.items), [action.product])\n      });\n    case REMOVE_FROM_COMPARE:\n      return {\n        items: state.items.filter(function (id) {\n          return id !== action.product_id;\n        })\n      };\n    default:\n  }\n  return state;\n}","map":{"version":3,"names":["ADD_TO_COMPARE","REMOVE_FROM_COMPARE","compareReducer","state","arguments","length","undefined","items","action","type","productId","product","id","findIndex","reduce","cartAcc","push","_objectSpread","concat","_toConsumableArray","filter","product_id"],"sources":["/home/moez/all_in_one_multikart_react/front-end/src/reducers/compare.js"],"sourcesContent":["import {\n    ADD_TO_COMPARE, REMOVE_FROM_COMPARE } from \"../constants/ActionTypes\";\n\n\nexport default function compareReducer(state = {\n    items: []\n}, action) {\n    switch (action.type) {\n        case ADD_TO_COMPARE:\n            const productId = action.product.id\n            if (state.items.findIndex(product => product.id === productId) !== -1) {\n                const items = state.items.reduce((cartAcc, product) => {\n                    if (product.id === productId) {\n                        cartAcc.push({ ...product }) \n                    } else {\n                        cartAcc.push(product)\n                    }\n\n                    return cartAcc\n                }, [])\n\n                return { ...state, items }\n            }\n\n            return { ...state, items: [...state.items, action.product] }\n\n        case REMOVE_FROM_COMPARE:\n            return {\n                items: state.items.filter(id => id !== action.product_id)\n            }\n\n        default:\n    }\n    return state;\n}\n"],"mappings":";;AAAA,SACIA,cAAc,EAAEC,mBAAmB,QAAQ,0BAA0B;AAGzE,eAAe,SAASC,cAAcA,CAAA,EAE3B;EAAA,IAF4BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAC3CG,KAAK,EAAE;EACX,CAAC;EAAA,IAAEC,MAAM,GAAAJ,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACL,QAAQE,MAAM,CAACC,IAAI;IACf,KAAKT,cAAc;MACf,IAAMU,SAAS,GAAGF,MAAM,CAACG,OAAO,CAACC,EAAE;MACnC,IAAIT,KAAK,CAACI,KAAK,CAACM,SAAS,CAAC,UAAAF,OAAO;QAAA,OAAIA,OAAO,CAACC,EAAE,KAAKF,SAAS;MAAA,EAAC,KAAK,CAAC,CAAC,EAAE;QACnE,IAAMH,KAAK,GAAGJ,KAAK,CAACI,KAAK,CAACO,MAAM,CAAC,UAACC,OAAO,EAAEJ,OAAO,EAAK;UACnD,IAAIA,OAAO,CAACC,EAAE,KAAKF,SAAS,EAAE;YAC1BK,OAAO,CAACC,IAAI,CAAAC,aAAA,KAAMN,OAAO,CAAE,CAAC;UAChC,CAAC,MAAM;YACHI,OAAO,CAACC,IAAI,CAACL,OAAO,CAAC;UACzB;UAEA,OAAOI,OAAO;QAClB,CAAC,EAAE,EAAE,CAAC;QAEN,OAAAE,aAAA,KAAYd,KAAK;UAAEI,KAAK,EAALA;QAAK;MAC5B;MAEA,OAAAU,aAAA,KAAYd,KAAK;QAAEI,KAAK,KAAAW,MAAA,CAAAC,kBAAA,CAAMhB,KAAK,CAACI,KAAK,IAAEC,MAAM,CAACG,OAAO;MAAC;IAE9D,KAAKV,mBAAmB;MACpB,OAAO;QACHM,KAAK,EAAEJ,KAAK,CAACI,KAAK,CAACa,MAAM,CAAC,UAAAR,EAAE;UAAA,OAAIA,EAAE,KAAKJ,MAAM,CAACa,UAAU;QAAA;MAC5D,CAAC;IAEL;EACJ;EACA,OAAOlB,KAAK;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module"}